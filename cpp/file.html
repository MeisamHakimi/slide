<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>file.rst</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<div class="section" id="advanced-programming-c">
<h1>Advanced Programming (C++)</h1>
<p>Ahmad Yoosofan</p>
<p>University of Kashan</p>
<p><a class="reference external" href="http://yoosofan.github.io/course/cpp.html">http://yoosofan.github.io/course/cpp.html</a></p>
</div>
<div class="section" id="files">
<h1>Files</h1>
<ul class="simple">
<li>Text Files</li>
<li>Binary Files</li>
</ul>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">ofstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;2.out.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="literal number integer">20</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">    </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;salam&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;input.integers.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;The file could not be opened &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">//cin&gt;&gt;i;
</span><span class="ln">11 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">  </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="name">ofstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;2.out.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;The file could not be opened &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">819</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">//cin&gt;&gt;i;
</span><span class="ln">11 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;  &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">  </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">4765</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">  </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;input.integers.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="comment single">//ifstream f1(&quot;folder2/folder3/file1.txt&quot;);
</span><span class="ln"> 7 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//ifstream f1(&quot;../../folder2/folder3/file1.txt&quot;);
</span><span class="ln"> 8 </span><span class="comment single"></span><span class="comment multiline">/*
</span><span class="ln"> 9 </span><span class="comment multiline">  Relative addressing:
</span><span class="ln">10 </span><span class="comment multiline">  آدرس دهی نسبی در این جا یعنی از پوشه‌ی کنونی یکی بالاتر برو
</span><span class="ln">11 </span><span class="comment multiline">  سپس در آن پوشه به داخل پوشه‌ی folder2 برو سپس از آنجا به پوشه‌ی folder3 برو
</span><span class="ln">12 </span><span class="comment multiline">  در آن پوشه‌ی آخری پرونده‌ای به نام file1.txt باید وجود داشته باشد
</span><span class="ln">13 </span><span class="comment multiline">  ../folder2/folder3/file1.txt
</span><span class="ln">14 </span><span class="comment multiline"> Absolute addressing
</span><span class="ln">15 </span><span class="comment multiline"> آدرس دهی مطلق، مسیر را کامل از / مشخص می‌کند و دقیق مسیر مشخص می‌شود.
</span><span class="ln">16 </span><span class="comment multiline"> /home/ahmad/folder2/file1.txt
</span><span class="ln">17 </span><span class="comment multiline"> یا در ویندوز به صورت
</span><span class="ln">18 </span><span class="comment multiline"> D:\\folder2\\file1.txt
</span><span class="ln">19 </span><span class="comment multiline"> توضیح بیشتر درباره‌ی آن را در کلاس بپرسید تا توضیح دهم
</span><span class="ln">20 </span><span class="comment multiline">*/</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">    </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;The file could not be opened &quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">//cin&gt;&gt;i;
</span><span class="ln">26 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iomanip&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace"></span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">200</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st</span><span class="punctuation">[</span><span class="name">MAX_STR</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="name">string</span><span class="whitespace"> </span><span class="name">st2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;input.students.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;couldn't open&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;Cannot open file&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="name">st</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">-</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// 199 charactes + \0
</span><span class="ln">15 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">while</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">eof</span><span class="punctuation">()){</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">  </span><span class="comment single">//~ while(getline(f1, st2)){
</span><span class="ln">17 </span><span class="comment single"></span><span class="whitespace">    </span><span class="comment single">//~ st[9]= 0;
</span><span class="ln">18 </span><span class="comment single"></span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="comment single">//~ cout &lt;&lt; st2 &lt;&lt; endl;
</span><span class="ln">20 </span><span class="comment single"></span><span class="whitespace">    </span><span class="comment single">//~ f1.seekg(9, ios::cur);
</span><span class="ln">21 </span><span class="comment single"></span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="name">st</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">-</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">std</span><span class="operator">::</span><span class="name">hex</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="punctuation">(</span><span class="literal string char">'9'</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">  </span><span class="comment single">//~ cout &lt;&lt; std::hex &lt;&lt; int('7') &lt;&lt; endl;
</span><span class="ln">27 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//~ cout &lt;&lt; std::hex &lt;&lt; int('4') &lt;&lt; endl;
</span><span class="ln">28 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//~ cout &lt;&lt; std::hex &lt;&lt; int('3') &lt;&lt; endl;
</span><span class="ln">29 </span><span class="comment single"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">200</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st</span><span class="punctuation">[</span><span class="name">MAX_STR</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="literal string">&quot;input.students.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;couldn't open&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">  </span><span class="keyword">else</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">st</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">-</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">    </span><span class="keyword">while</span><span class="punctuation">(</span><span class="operator">!</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">eof</span><span class="punctuation">()){</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">      </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">st</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">-</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace"></span><span class="comment multiline">/* Rererence for more study
</span><span class="ln">21 </span><span class="comment multiline"> * http://www.cplusplus.com/reference/fstream/fstream/open/
</span><span class="ln">22 </span><span class="comment multiline">*/</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">200</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st</span><span class="punctuation">[</span><span class="name">MAX_STR</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="literal string">&quot;input.students.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">is_open</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;couldn't open&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">  </span><span class="keyword">else</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">st</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">-</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">    </span><span class="keyword">while</span><span class="punctuation">(</span><span class="operator">!</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">eof</span><span class="punctuation">()){</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">      </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">st</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">-</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace"></span><span class="comment multiline">/* Rererence for more study
</span><span class="ln">22 </span><span class="comment multiline"> * http://www.cplusplus.com/reference/fstream/fstream/is_open/
</span><span class="ln">23 </span><span class="comment multiline">*/</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">200</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st</span><span class="punctuation">[</span><span class="name">MAX_STR</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;input.students.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;couldn't open&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">  </span><span class="comment single">//cout&lt;&lt;f1.getline(st,200).gcount()&lt;&lt;endl;
</span><span class="ln">13 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">while</span><span class="punctuation">(</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">st</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">MAX_STR</span><span class="whitespace"> </span><span class="operator">-</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">).</span><span class="name">gcount</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="whitespace"> </span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment single"> //#include &lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="name">string</span><span class="whitespace"> </span><span class="name">st</span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;ali&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">ofstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;2.out.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f2</span><span class="punctuation">(</span><span class="literal string">&quot;3.out.txt&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">//ofstream
</span><span class="ln"> 8 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open f1&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f2</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open f2&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal number integer">2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">  </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string char">' '</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Hamed&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">  </span><span class="name">f2</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Sadegh&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;  Salehi &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">  </span><span class="name">f2</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f3</span><span class="punctuation">(</span><span class="literal string">&quot;2.out.txt&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f3</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open f3&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">  </span><span class="name">f3</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">st</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f4</span><span class="punctuation">(</span><span class="literal string">&quot;3.out.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">cst</span><span class="punctuation">[</span><span class="literal number integer">50</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="name">f4</span><span class="punctuation">.</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">cst</span><span class="punctuation">,</span><span class="literal number integer">50</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">cst</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">  </span><span class="name">f4</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="name">string</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace">  </span><span class="literal string">&quot;ali&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">ofstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;2.out.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f2</span><span class="punctuation">(</span><span class="literal string">&quot;3.out.txt&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">//ofstream
</span><span class="ln"> 8 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open f1&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f2</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open f2&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">  </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Hamed&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">  </span><span class="name">f2</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Sadegh&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;  Salehi &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">  </span><span class="name">f2</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;ali&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;  Seifi &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">  </span><span class="name">f2</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Sahar&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;  Safi &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">  </span><span class="name">f2</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f3</span><span class="punctuation">(</span><span class="literal string">&quot;2.out.txt&quot;</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f3</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open f3&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">  </span><span class="name">f3</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">st</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">  </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f4</span><span class="punctuation">(</span><span class="literal string">&quot;3.out.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">  </span><span class="comment single">//f4&gt;&gt;st; cout&lt;&lt;st&lt;&lt;endl;
</span><span class="ln">27 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">cst</span><span class="punctuation">[</span><span class="literal number integer">50</span><span class="punctuation">];</span><span class="whitespace">  </span><span class="comment single">//while(f4.getline(cst,50).gcount()&gt;0)
</span><span class="ln">28 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">while</span><span class="punctuation">(</span><span class="name">f4</span><span class="punctuation">.</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">cst</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">50</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">    </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">cst</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="name">f4</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">std_no</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">100</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">course</span><span class="punctuation">[</span><span class="literal number integer">100</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">readFromFile</span><span class="punctuation">(</span><span class="name">ifstream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">std_no</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">    </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">    </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">    </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">course</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">    </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">    </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">print</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">std_no</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="literal string char">'\t'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">name</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string char">'\t'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string char">'\t'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">course</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string char">'\t'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string char">'\t'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">n</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">x</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st</span><span class="punctuation">[</span><span class="literal number integer">100</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;input.students.txt&quot;</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ofstream , ifstream, fstream
</span><span class="ln">33 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">readFromFile</span><span class="punctuation">(</span><span class="name">f1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">  </span><span class="keyword">while</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">eof</span><span class="punctuation">()){</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">    </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">print</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">    </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">readFromFile</span><span class="punctuation">(</span><span class="name">f1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">  </span><span class="comment single">//while(f1&gt;&gt;i) cout&lt;&lt;i&lt;&lt;'\t';cout&lt;&lt;endl;
</span><span class="ln">39 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//f1.close();  f1.open(&quot;1.inp.txt&quot;);
</span><span class="ln">40 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//f1.seekg(0,ios::beg);
</span><span class="ln">41 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//while(!f1.eof()){ cout&lt;&lt;i&lt;&lt;'\t';f1&gt;&gt;i;} cout&lt;&lt;endl;
</span><span class="ln">42 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace"></span><span class="comment multiline">/*
</span><span class="ln">45 </span><span class="comment multiline">  void read2(ifstream&amp;f1){
</span><span class="ln">46 </span><span class="comment multiline">  constexpr auto max_string=1000;
</span><span class="ln">47 </span><span class="comment multiline">  constexpr auto max_stringMinus1=1000-1;
</span><span class="ln">48 </span><span class="comment multiline">  char st[max_string];
</span><span class="ln">49 </span><span class="comment multiline">  f1.getline(st,max_stringMinus1);
</span><span class="ln">50 </span><span class="comment multiline">  sscanf(st,&quot;%d%s%lf%s%d%d&quot;,&amp;std_no,name, &amp;avg, course, &amp;m, &amp;n);
</span><span class="ln">51 </span><span class="comment multiline">  }
</span><span class="ln">52 </span><span class="comment multiline">*/</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myIntArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="keyword">static</span><span class="whitespace"> </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">N</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">2000</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">N</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="name">myIntArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fileName</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;input.integers.txt&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fileName</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">      </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;file &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">      </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;cannot open file&quot;</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">// throw
</span><span class="ln">16 </span><span class="comment single"></span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="whitespace"> </span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&amp;&amp;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">N</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">      </span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="name">n</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">sort</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">n</span><span class="literal number integer">-1</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">      </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">j</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">+</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">j</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">        </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">]){</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">          </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">temp</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">          </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">          </span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">]</span><span class="operator">=</span><span class="name">temp</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">        </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">search</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">key</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword">auto</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="name">key</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">        </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">-1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">print</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword">auto</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">      </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="name">myIntArray</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">(</span><span class="literal string">&quot;input.integers.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">sort</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">search</span><span class="punctuation">(</span><span class="literal number integer">12</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">print</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myIntArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword">static</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">N</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">2000</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">N</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace"> </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="name">myIntArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fileName</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;input.integers.txt&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fileName</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">      </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;file &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">      </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;cannot open file&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&amp;&amp;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">&lt;</span><span class="name">N</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">      </span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="name">n</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">sort</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">,</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">temp</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">&lt;</span><span class="name">n</span><span class="literal number integer">-1</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">      </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">j</span><span class="operator">=</span><span class="name">i</span><span class="operator">+</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">&lt;</span><span class="name">n</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">        </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="operator">&gt;</span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">]){</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">          </span><span class="name">temp</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">          </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">          </span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">temp</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">        </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">search</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">key</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="name">key</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">        </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">-1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">print</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">&lt;</span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">      </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="name">myIntArray</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">(</span><span class="literal string">&quot;input.integers.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">sort</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">search</span><span class="punctuation">(</span><span class="literal number integer">12</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">print</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myIntArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">myIntArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fileName</span><span class="operator">=</span><span class="literal string">&quot;input.integers.txt&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fileName</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">      </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;file &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">      </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;cannot open file&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">    </span><span class="name">a</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="punctuation">[</span><span class="literal number integer">2000</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">k</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">2000</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">f1</span><span class="whitespace"> </span><span class="operator">&gt;&gt;</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">k</span><span class="literal number integer">-2</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">        </span><span class="keyword type">int</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">b</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="punctuation">[</span><span class="name">k</span><span class="whitespace"> </span><span class="operator">*=</span><span class="whitespace"> </span><span class="literal number integer">2</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">        </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">j</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">          </span><span class="name">b</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">        </span><span class="keyword">delete</span><span class="punctuation">[]</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">        </span><span class="name">a</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">b</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">    </span><span class="name">n</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myIntArray</span><span class="punctuation">(){</span><span class="keyword">delete</span><span class="punctuation">[]</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">sort</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">temp</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">&lt;</span><span class="name">n</span><span class="literal number integer">-1</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">      </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">j</span><span class="operator">=</span><span class="name">i</span><span class="operator">+</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">&lt;</span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">        </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">]){</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">          </span><span class="name">temp</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">          </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">          </span><span class="name">a</span><span class="punctuation">[</span><span class="name">j</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">temp</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">        </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">search</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">key</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="name">key</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">        </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">-1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">print</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">&lt;</span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">      </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">  </span><span class="name">myIntArray</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">(</span><span class="literal string">&quot;input.integers.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">sort</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">search</span><span class="punctuation">(</span><span class="literal number integer">12</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">print</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment single">// https://www.systutorials.com/how-to-process-a-file-line-by-line-in-c/
</span><span class="ln"> 2 </span><span class="comment single"></span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;string&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="whitespace"> </span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">std</span><span class="operator">::</span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">file</span><span class="punctuation">(</span><span class="literal string">&quot;input.txt&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">std</span><span class="operator">::</span><span class="name">string</span><span class="whitespace"> </span><span class="name">str</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">while</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">std</span><span class="operator">::</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">file</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">str</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">    </span><span class="name">std</span><span class="operator">::</span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">str</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment single">// https://codereview.stackexchange.com/a/38954
</span><span class="ln"> 2 </span><span class="comment single">// https://codereview.stackexchange.com/questions/38879/parsing-text-file-in-c
</span><span class="ln"> 3 </span><span class="comment single">// https://www.codespeedy.com/cpp-program-to-create-a-text-file-open-and-read-a-particular-line/
</span><span class="ln"> 4 </span><span class="comment single">// http://www.cplusplus.com/forum/beginner/11304/
</span><span class="ln"> 5 </span><span class="comment single">// https://www.tutorialspoint.com/read-file-line-by-line-using-cplusplus
</span><span class="ln"> 6 </span><span class="comment single">// https://www.geeksforgeeks.org/encrypt-and-decrypt-text-file-using-cpp/
</span><span class="ln"> 7 </span><span class="comment single">// https://coderedirect.com/questions/119182/how-to-read-a-file-line-by-line-or-a-whole-text-file-at-once
</span><span class="ln"> 8 </span><span class="comment single">// https://www.codegrepper.com/code-examples/cpp/getline+from+file+c%2B%2B
</span><span class="ln"> 9 </span><span class="comment single">// https://www.educba.com/c-plus-plus-getline/
</span><span class="ln">10 </span><span class="comment single">// https://www.codegrepper.com/code-examples/cpp/getline+from+file+c%2B%2B
</span><span class="ln">11 </span><span class="comment single">// https://stackoverflow.com/questions/43573658/c-how-to-read-a-line-of-text-from-file-to-char-array
</span><span class="ln">12 </span><span class="comment single">// https://www.geeksforgeeks.org/getline-string-c/
</span><span class="ln">13 </span><span class="comment single"></span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">Person</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace"></span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">    </span><span class="name">std</span><span class="operator">::</span><span class="name">string</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">    </span><span class="name">std</span><span class="operator">::</span><span class="name">string</span><span class="whitespace"> </span><span class="name">age</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">    </span><span class="name">std</span><span class="operator">::</span><span class="name">string</span><span class="whitespace"> </span><span class="name">salary</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="name">std</span><span class="operator">::</span><span class="name">string</span><span class="whitespace"> </span><span class="name">hoursWorked</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">    </span><span class="name">std</span><span class="operator">::</span><span class="name">string</span><span class="whitespace"> </span><span class="name">randomText</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">    </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">std</span><span class="operator">::</span><span class="name">istream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&gt;&gt;</span><span class="punctuation">(</span><span class="name">std</span><span class="operator">::</span><span class="name">istream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">str</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">Person</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">        </span><span class="name">std</span><span class="operator">::</span><span class="name">string</span><span class="whitespace"> </span><span class="name">line</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">        </span><span class="name">Person</span><span class="whitespace"> </span><span class="name">tmp</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">        </span><span class="keyword">if</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">std</span><span class="operator">::</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">str</span><span class="punctuation">,</span><span class="name">line</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">        </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">            </span><span class="name">std</span><span class="operator">::</span><span class="name">stringstream</span><span class="whitespace"> </span><span class="name function">iss</span><span class="punctuation">(</span><span class="name">line</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">            </span><span class="keyword">if</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="whitespace"> </span><span class="name">std</span><span class="operator">::</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">iss</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">tmp</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">':'</span><span class="punctuation">)</span><span class="whitespace">        </span><span class="operator">&amp;&amp;</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">                 </span><span class="name">std</span><span class="operator">::</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">iss</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">tmp</span><span class="punctuation">.</span><span class="name">age</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'-'</span><span class="punctuation">)</span><span class="whitespace">         </span><span class="operator">&amp;&amp;</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">                 </span><span class="name">std</span><span class="operator">::</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">iss</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">tmp</span><span class="punctuation">.</span><span class="name">salary</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">','</span><span class="punctuation">)</span><span class="whitespace">      </span><span class="operator">&amp;&amp;</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">                 </span><span class="name">std</span><span class="operator">::</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">iss</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">tmp</span><span class="punctuation">.</span><span class="name">hoursWorked</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'['</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;&amp;</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">                 </span><span class="name">std</span><span class="operator">::</span><span class="name">getline</span><span class="punctuation">(</span><span class="name">iss</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">tmp</span><span class="punctuation">.</span><span class="name">randomText</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">']'</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">             </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">                 </span><span class="comment multiline">/* OK: All read operations worked */</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">                 </span><span class="name">data</span><span class="punctuation">.</span><span class="name">swap</span><span class="punctuation">(</span><span class="name">tmp</span><span class="punctuation">);</span><span class="whitespace">  </span><span class="comment single">// C++03 as this answer was written a long time ago.
</span><span class="ln">37 </span><span class="comment single"></span><span class="whitespace">             </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">             </span><span class="keyword">else</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">             </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">                 </span><span class="comment single">// One operation failed.
</span><span class="ln">41 </span><span class="comment single"></span><span class="whitespace">                 </span><span class="comment single">// So set the state on the main stream
</span><span class="ln">42 </span><span class="comment single"></span><span class="whitespace">                 </span><span class="comment single">// to indicate failure.
</span><span class="ln">43 </span><span class="comment single"></span><span class="whitespace">                 </span><span class="name">str</span><span class="punctuation">.</span><span class="name">setstate</span><span class="punctuation">(</span><span class="name">std</span><span class="operator">::</span><span class="name">ios</span><span class="operator">::</span><span class="name">failbit</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">             </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">        </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">        </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">str</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">    </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">swap</span><span class="punctuation">(</span><span class="name">Person</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">other</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="keyword">throws</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="comment single">// C++03 as this answer was written a long time ago.
</span><span class="ln">49 </span><span class="comment single"></span><span class="whitespace">    </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">        </span><span class="name">swap</span><span class="punctuation">(</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace">        </span><span class="name">other</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">        </span><span class="name">swap</span><span class="punctuation">(</span><span class="name">age</span><span class="punctuation">,</span><span class="whitespace">         </span><span class="name">other</span><span class="punctuation">.</span><span class="name">age</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">        </span><span class="name">swap</span><span class="punctuation">(</span><span class="name">salary</span><span class="punctuation">,</span><span class="whitespace">      </span><span class="name">other</span><span class="punctuation">.</span><span class="name">salary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">        </span><span class="name">swap</span><span class="punctuation">(</span><span class="name">hoursWorked</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">other</span><span class="punctuation">.</span><span class="name">hoursWorked</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">        </span><span class="name">swap</span><span class="punctuation">(</span><span class="name">randomText</span><span class="punctuation">,</span><span class="whitespace">  </span><span class="name">other</span><span class="punctuation">.</span><span class="name">randomText</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace"></span><span class="punctuation">};</span>
</pre>
</div>
<hr class="docutils" />
<div class="section" id="bianry-file">
<h1>Bianry file</h1>
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">12</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">ofstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;a1.txt&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;Cannot Open File&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">i</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">st1</span><span class="operator">=</span><span class="literal string">&quot;ABC&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">  </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st2</span><span class="punctuation">[]{</span><span class="literal string char">'A'</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'B'</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'C'</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'\0'</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">  </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st3</span><span class="punctuation">[]{</span><span class="literal number integer">65</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">66</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">67</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">  </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st4</span><span class="punctuation">[]{</span><span class="literal number hex">0x41</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number hex">0x42</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number hex">0x43</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number hex">0x0</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">st2</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">st3</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">st4</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="punctuation">(</span><span class="operator">++</span><span class="name">i</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">  </span><span class="comment single">// f1.write((char *) &amp;(i++),sizeof(int));
</span><span class="ln">20 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">// f1.write((char *) &amp;(i+1),sizeof(int));
</span><span class="ln">21 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="punctuation">(</span><span class="operator">++</span><span class="name">i</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="punctuation">(</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">+=</span><span class="whitespace"> </span><span class="literal number integer">234234</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">12</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">ofstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="literal string">&quot;a1.txt&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">    </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;Cannot Open File&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">i</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">st1</span><span class="operator">=</span><span class="literal string">&quot;ABC&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">  </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st2</span><span class="punctuation">[]{</span><span class="literal string char">'A'</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'B'</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'C'</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'\0'</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">  </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st3</span><span class="punctuation">[]{</span><span class="literal number integer">65</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">66</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">67</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">  </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">st4</span><span class="punctuation">[]{</span><span class="literal number hex">0x41</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number hex">0x42</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number hex">0x43</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number hex">0x0</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">st2</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">st3</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">st4</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="punctuation">(</span><span class="operator">++</span><span class="name">i</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">  </span><span class="comment single">// f1.write((char *) &amp;(i++),sizeof(int));
</span><span class="ln">20 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">// f1.write((char *) &amp;(i+1),sizeof(int));
</span><span class="ln">21 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="punctuation">(</span><span class="operator">++</span><span class="name">i</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="punctuation">(</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">+=</span><span class="whitespace"> </span><span class="literal number integer">234234</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f3</span><span class="punctuation">(</span><span class="literal string">&quot;a1.txt&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f3</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">      </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;Cannot Open File&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">ast</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">  </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="name">ast</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="name">ast</span><span class="operator">+</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="name">ast</span><span class="operator">+</span><span class="literal number integer">8</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="name">ast</span><span class="operator">+</span><span class="literal number integer">12</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">j</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">ast</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">ast</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal number integer">4</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">ast</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal number integer">8</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">ast</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal number integer">12</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;number of read character: &quot;</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">)).</span><span class="name">gcount</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="keyword">while</span><span class="punctuation">(</span><span class="name">f3</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">)))</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">      </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">j</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">  </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">write2file</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace"></span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">readFromFile</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">write2file</span><span class="punctuation">(</span><span class="literal string">&quot;a1.bin&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="name">readFromFile</span><span class="punctuation">(</span><span class="literal string">&quot;a1.bin&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace"></span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">write2file</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;a1.bin&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">  </span><span class="name">ofstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">  </span><span class="comment single">// fstream f1(fname, ios::out | ios::binary);
</span><span class="ln">13 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;Cannot Open File&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">6</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">j</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">i</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(;</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">--</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="punctuation">(</span><span class="name">j</span><span class="whitespace"> </span><span class="operator">+=</span><span class="whitespace"> </span><span class="literal number integer">3</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace"></span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">readFromFile</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;a1.bin&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">    </span><span class="comment single">//fstream f3(fname, ios::in | ios::binary);
</span><span class="ln">22 </span><span class="comment single"></span><span class="whitespace">    </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f3</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f3</span><span class="punctuation">)</span><span class="whitespace">   </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;Cannot Open File&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">n</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(;</span><span class="whitespace"> </span><span class="name">n</span><span class="whitespace"> </span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">n</span><span class="operator">--</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">        </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">        </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">j</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">    </span><span class="name">f3</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">        </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">        </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;Cannot Open File&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ios::end  ios::cur
</span><span class="ln">24 </span><span class="comment single"></span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="punctuation">{</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));}</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="literal number integer">12</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="literal number integer">14</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">(</span><span class="literal number integer">13</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">10</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">25</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">        </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">        </span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">     </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));}</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="keyword type">int</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp4.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="literal number integer">16</span><span class="punctuation">);</span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="literal number integer">19</span><span class="punctuation">);</span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="keyword type">double</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">my2</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">my2</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="literal number float">4.23</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="name">my2</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="literal number float">5.34</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="name">my2</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="literal number float">67.43</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="name">my2</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">my2</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">my2</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">        </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">        </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;Cannot Open File&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">    </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln">29 </span><span class="comment single"></span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">T</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">print</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">    </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;name:&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">name</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;stdno:&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">stdno</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">      </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;avg:&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">().</span><span class="name">print</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">().</span><span class="name">print</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">).</span><span class="name">print</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">).</span><span class="name">print</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment single">// Error
</span><span class="ln"> 2 </span><span class="comment single"></span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 6 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">        </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">        </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal string">&quot;Cannot Open File&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln">29 </span><span class="comment single"></span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">T</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">data</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">data</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">    </span><span class="name">o1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;( &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">      </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">mystrlen</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">s</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">s</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">++</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace"></span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">::</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">mystrlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">79 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">80 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">81 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">82 </span><span class="whitespace">  </span><span class="comment single">//operator&lt;&lt;(cout,myi.readNext());
</span><span class="ln">83 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//student *ps= &amp; myi.readNext(); Error
</span><span class="ln">84 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">85 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">86 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">87 </span><span class="whitespace">  </span><span class="comment single">//myi.write(54,10);
</span><span class="ln">88 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//cout&lt;&lt;myi.read(25)&lt;&lt;endl&lt;&lt;endl;
</span><span class="ln">89 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">90 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">string</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">        </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="whitespace"> </span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">      </span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">    </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">    </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="keyword type">unsigned</span><span class="punctuation">(</span><span class="name">index</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">      </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">        </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">        </span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">    </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln">27 </span><span class="comment single"></span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">  </span><span class="name">T</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">    </span><span class="keyword">static</span><span class="whitespace"> </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">    </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">    </span><span class="name">o1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;( &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">      </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="keyword reserved">inline</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">::</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="keyword type">unsigned</span><span class="punctuation">(</span><span class="name">index</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="comment single">//~ unsigned aa =1;
</span><span class="ln">68 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//~ unsigned int ddd = 33;
</span><span class="ln">69 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//~ unsigned char dddrr = 'c';
</span><span class="ln">70 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">=</span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">79 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">80 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">81 </span><span class="whitespace">  </span><span class="name">student</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">ps</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">();</span><span class="whitespace"> </span><span class="comment single">//Error
</span><span class="ln">82 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">ps</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">83 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">84 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">85 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">86 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">87 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">        </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">        </span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">  </span><span class="name">T</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">    </span><span class="keyword">static</span><span class="whitespace"> </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace"> </span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">    </span><span class="name">o1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;( &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">      </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="keyword type">unsigned</span><span class="punctuation">(</span><span class="name">index</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">      </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">student</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">ps</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">();</span><span class="whitespace"> </span><span class="comment single">//Error
</span><span class="ln">76 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">ps</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">79 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">80 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">81 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">string</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">        </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">      </span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">    </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">    </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="keyword type">unsigned</span><span class="punctuation">(</span><span class="name">index</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">      </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">string</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">       </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">         </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">        </span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">          </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">          </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">        </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">     </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">   </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">    </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">    </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="keyword type">unsigned</span><span class="punctuation">(</span><span class="name">index</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">      </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment single">// Error
</span><span class="ln"> 2 </span><span class="comment single"></span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">string</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">        </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">      </span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">    </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">    </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="keyword type">unsigned</span><span class="punctuation">(</span><span class="name">index</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">      </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment single">// Error
</span><span class="ln"> 2 </span><span class="comment single"></span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 6 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">   </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">   </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">   </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">string</span><span class="whitespace"> </span><span class="name">fname</span><span class="operator">=</span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">       </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">       </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">          </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">       </span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">         </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">         </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">        </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">     </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">   </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">    </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">    </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="keyword type">unsigned</span><span class="punctuation">(</span><span class="name">index</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">      </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="comment single">//st1[1]='2';
</span><span class="ln">67 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">79 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">string</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">        </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal string">&quot;Can not open file&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">      </span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">        </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">    </span><span class="name">o1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;( &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">      </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">&gt;=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="whitespace"> </span><span class="operator">&amp;&amp;</span><span class="whitespace"> </span><span class="keyword type">unsigned</span><span class="punctuation">(</span><span class="name">index</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">      </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="operator">=</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">79 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">string</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">      </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">        </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="name">fname</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="literal string">&quot; Can not open file&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">      </span><span class="keyword">else</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">         </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">         </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">      </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">  </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">    </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">    </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">    </span><span class="name">o1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;( &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">      </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; , &quot;</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="whitespace"> </span><span class="operator">&gt;=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="whitespace"> </span><span class="operator">&amp;&amp;</span><span class="whitespace"> </span><span class="keyword type">unsigned</span><span class="punctuation">(</span><span class="name">index</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">      </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace">  </span><span class="name">myArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="operator">=</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">79 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment single">// Error
</span><span class="ln"> 2 </span><span class="comment single"></span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 6 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace"></span><span class="comment single">//void *
</span><span class="ln"> 8 </span><span class="comment single">//char *
</span><span class="ln"> 9 </span><span class="comment single">//int ff3(void * hh);
</span><span class="ln">10 </span><span class="comment single">//int ff4(char * hh);
</span><span class="ln">11 </span><span class="comment single"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace"></span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">   </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">   </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">   </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">fname</span><span class="operator">=</span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">       </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">       </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Can not open file&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">       </span><span class="keyword">else</span><span class="punctuation">{</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">     </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">   </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln">27 </span><span class="comment single"></span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="comment single">// Error
</span><span class="ln">50 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//friend ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp;);
</span><span class="ln">51 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">mystrlen</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">s</span><span class="punctuation">){</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">s</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace"></span><span class="comment single">//if(unsigned(index)&lt;strlen(stdno)) return stdno[index];
</span><span class="ln">56 </span><span class="comment single"></span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">::</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&lt;</span><span class="name">mystrlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="comment single">// Error
</span><span class="ln">61 </span><span class="comment single">//ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp; m1){
</span><span class="ln">62 </span><span class="comment single"></span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">main</span><span class="punctuation">(){</span><span class="comment single">//myArray&lt;student&gt; myi(&quot;temp6.in&quot;);
</span><span class="ln">68 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="operator">=</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">cout</span><span class="punctuation">,</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">=</span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">.</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="comment multiline">/*myi.writeNext(st1);
</span><span class="ln">73 </span><span class="comment multiline">  strcpy(st1.name,&quot;Reza&quot;);strcpy(st1.stdno,&quot;923434&quot;);
</span><span class="ln">74 </span><span class="comment multiline">  st1.avg=14.2; myi.writeNext(st1); myi.rewind();
</span><span class="ln">75 </span><span class="comment multiline">  cout&lt;&lt;myi.readNext()&lt;&lt;endl;
</span><span class="ln">76 </span><span class="comment multiline">  //operator&lt;&lt;(cout,myi.readNext());
</span><span class="ln">77 </span><span class="comment multiline">  //student *ps= &amp; myi.readNext(); Error
</span><span class="ln">78 </span><span class="comment multiline">  cout&lt;&lt;myi.readNext()&lt;&lt;endl&lt;&lt;endl;
</span><span class="ln">79 </span><span class="comment multiline">  cout&lt;&lt;myi.read(0)&lt;&lt;endl;
</span><span class="ln">80 </span><span class="comment multiline">  cout&lt;&lt;myi.read(1)&lt;&lt;endl;
</span><span class="ln">81 </span><span class="comment multiline">  //myi.write(54,10);
</span><span class="ln">82 </span><span class="comment multiline">  //cout&lt;&lt;myi.read(25)&lt;&lt;endl&lt;&lt;endl;
</span><span class="ln">83 </span><span class="comment multiline">  */</span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">84 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="comment single">//void *
</span><span class="ln"> 7 </span><span class="comment single">//char *
</span><span class="ln"> 8 </span><span class="comment single">//int ff3(void * hh);
</span><span class="ln"> 9 </span><span class="comment single">//int ff4(char * hh);
</span><span class="ln">10 </span><span class="comment single"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace"></span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">   </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">   </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">   </span><span class="name">myArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">fname</span><span class="operator">=</span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">       </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">       </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Can not open file&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">       </span><span class="keyword">else</span><span class="punctuation">{</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">     </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">   </span><span class="operator">~</span><span class="name">myArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln">26 </span><span class="comment single"></span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="comment single">// Error
</span><span class="ln">49 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//friend ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp;);
</span><span class="ln">50 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">mystrlen</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">s</span><span class="punctuation">){</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">s</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace"></span><span class="comment single">//if(unsigned(index)&lt;strlen(stdno)) return stdno[index];
</span><span class="ln">55 </span><span class="comment single"></span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">::</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&lt;</span><span class="name">mystrlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace"></span><span class="comment single">// Error
</span><span class="ln">60 </span><span class="comment single">//ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp; m1){
</span><span class="ln">61 </span><span class="comment single"></span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">  </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">  </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">main</span><span class="punctuation">(){</span><span class="comment single">//myArray&lt;student&gt; myi(&quot;temp6.in&quot;);
</span><span class="ln">67 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="operator">=</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">cout</span><span class="punctuation">,</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">=</span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">.</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">=</span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="comment single">//operator&lt;&lt;(cout,myi.readNext());
</span><span class="ln">75 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//student *ps= &amp; myi.readNext(); Error
</span><span class="ln">76 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">79 </span><span class="whitespace">  </span><span class="comment single">//myi.write(54,10);
</span><span class="ln">80 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//cout&lt;&lt;myi.read(25)&lt;&lt;endl&lt;&lt;endl;
</span><span class="ln">81 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">82 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myFileArray</span><span class="punctuation">{</span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">   </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">   </span><span class="name">myFileArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">fname</span><span class="operator">=</span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">       </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">       </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Can not open file&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">       </span><span class="keyword">else</span><span class="punctuation">{</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">     </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">   </span><span class="operator">~</span><span class="name">myFileArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&gt;=</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln">24 </span><span class="comment single"></span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&gt;</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">pos</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">pos</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="name">l1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">     </span><span class="punctuation">{</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace">  </span><span class="comment single">// Error
</span><span class="ln">57 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//friend ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp;);
</span><span class="ln">58 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">mystrlen</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">s</span><span class="punctuation">){</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">s</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace"></span><span class="comment single">//if(unsigned(index)&lt;strlen(stdno)) return stdno[index];
</span><span class="ln">63 </span><span class="comment single"></span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">::</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&lt;</span><span class="name">mystrlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace"></span><span class="comment single">// Error
</span><span class="ln">68 </span><span class="comment single">//ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp; m1){
</span><span class="ln">69 </span><span class="comment single"></span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">main</span><span class="punctuation">(){</span><span class="name">myFileArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="operator">=</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">cout</span><span class="punctuation">,</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">=</span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">.</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">79 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">80 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">=</span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">81 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">82 </span><span class="whitespace">  </span><span class="comment single">//operator&lt;&lt;(cout,myi.readNext());
</span><span class="ln">83 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//student *ps= &amp; myi.readNext(); Error
</span><span class="ln">84 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">85 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">86 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">87 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">88 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">25</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">89 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">90 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln">  1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln">  2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln">  3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln">  4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln">  5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">  6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">write_type</span><span class="punctuation">{</span><span class="name">T</span><span class="whitespace"> </span><span class="name">data</span><span class="punctuation">;</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">;};</span><span class="whitespace">
</span><span class="ln">  7 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myFileArray</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">  8 </span><span class="whitespace">  </span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">  9 </span><span class="whitespace">  </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln"> 10 </span><span class="whitespace">  </span><span class="name">myFileArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">fname</span><span class="operator">=</span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 11 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 12 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 13 </span><span class="whitespace">       </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 14 </span><span class="whitespace">       </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Can not open file&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 15 </span><span class="whitespace">       </span><span class="keyword">else</span><span class="punctuation">{</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 16 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 17 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 18 </span><span class="whitespace">   </span><span class="operator">~</span><span class="name">myFileArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln"> 19 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 20 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 21 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 22 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 23 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 24 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&gt;=</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="keyword">throw</span><span class="whitespace"> </span><span class="literal number integer">2</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln"> 25 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln"> 26 </span><span class="comment single"></span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 27 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 28 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 29 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 30 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 31 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 32 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 33 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&gt;</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 34 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 35 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 36 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 37 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 38 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 39 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">pos</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 40 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 41 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 42 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">pos</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="name">l1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln"> 43 </span><span class="whitespace">     </span><span class="punctuation">{</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 44 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 45 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 46 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 47 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 48 </span><span class="whitespace">   </span><span class="name">T</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 49 </span><span class="whitespace">     </span><span class="keyword">static</span><span class="whitespace"> </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 50 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 51 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 52 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 53 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&gt;=</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 54 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln"> 55 </span><span class="comment single"></span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 56 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 57 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 58 </span><span class="whitespace">   </span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">T</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">write_type</span><span class="operator">&lt;</span><span class="name">T</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">idx</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="comment single">// a[complexCls(2,3)]
</span><span class="ln"> 59 </span><span class="comment single"></span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 60 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 61 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 62 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">idx</span><span class="punctuation">.</span><span class="name">index</span><span class="operator">&gt;</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 63 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">idx</span><span class="punctuation">.</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 64 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">idx</span><span class="punctuation">.</span><span class="name">data</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 65 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">idx</span><span class="punctuation">.</span><span class="name">data</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 66 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 67 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 68 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 69 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 70 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 71 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 72 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln"> 73 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 74 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 75 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 76 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 77 </span><span class="whitespace">  </span><span class="comment single">// Error
</span><span class="ln"> 78 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//friend ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp;);
</span><span class="ln"> 79 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 80 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 81 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln"> 82 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">mystrlen</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">s</span><span class="punctuation">){</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">s</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln"> 83 </span><span class="whitespace"></span><span class="comment single">//if(unsigned(index)&lt;strlen(stdno)) return stdno[index];
</span><span class="ln"> 84 </span><span class="comment single"></span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">::</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 85 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&lt;</span><span class="name">mystrlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 86 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 87 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 88 </span><span class="whitespace"></span><span class="comment single">// Error
</span><span class="ln"> 89 </span><span class="comment single">//ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp; m1){
</span><span class="ln"> 90 </span><span class="comment single"></span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 91 </span><span class="whitespace">  </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln"> 92 </span><span class="whitespace">  </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 93 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 94 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 95 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">main</span><span class="punctuation">(){</span><span class="name">myFileArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 96 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="operator">=</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 97 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st2</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string">&quot;Kamran&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;68588&quot;</span><span class="punctuation">,</span><span class="literal number float">12.1</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln"> 98 </span><span class="whitespace">  </span><span class="name">write_type</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">wt1</span><span class="punctuation">{</span><span class="name">st2</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln"> 99 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">cout</span><span class="punctuation">,</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">100 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">=</span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">.</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">101 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">102 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">103 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">=</span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">104 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">105 </span><span class="whitespace">  </span><span class="comment single">//operator&lt;&lt;(cout,myi.readNext());
</span><span class="ln">106 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//student *ps= &amp; myi.readNext(); Error
</span><span class="ln">107 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">108 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">109 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;myi[0]&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">110 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">111 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">112 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;myi[1]&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">113 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">114 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">[</span><span class="name">wt1</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">115 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">116 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">117 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln">  1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln">  2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln">  3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdlib&gt;</span><span class="comment preproc">
</span><span class="ln">  4 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;cstring&gt;</span><span class="comment preproc">
</span><span class="ln">  5 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">  6 </span><span class="whitespace"></span><span class="keyword">template</span><span class="operator">&lt;</span><span class="keyword">typename</span><span class="whitespace"> </span><span class="name class">T</span><span class="operator">&gt;</span><span class="keyword">class</span><span class="whitespace"> </span><span class="name class">myFileArray</span><span class="punctuation">{</span><span class="name">fstream</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">  7 </span><span class="whitespace">   </span><span class="keyword">public</span><span class="operator">:</span><span class="whitespace">
</span><span class="ln">  8 </span><span class="whitespace">   </span><span class="name">myFileArray</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">fname</span><span class="operator">=</span><span class="literal string">&quot;temp1.in&quot;</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">  9 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 10 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 11 </span><span class="whitespace">       </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 12 </span><span class="whitespace">       </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Can not open file&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 13 </span><span class="whitespace">       </span><span class="keyword">else</span><span class="punctuation">{</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">open</span><span class="punctuation">(</span><span class="name">fname</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">in</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">out</span><span class="operator">|</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 14 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 15 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 16 </span><span class="whitespace">   </span><span class="operator">~</span><span class="name">myFileArray</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();}</span><span class="whitespace">
</span><span class="ln"> 17 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">read</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 18 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 19 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 20 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 21 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 22 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&gt;=</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 23 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln"> 24 </span><span class="comment single"></span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 25 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 26 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 27 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">write</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 28 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 29 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 30 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 31 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&gt;</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 32 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 33 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 34 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 35 </span><span class="whitespace">   </span><span class="name">T</span><span class="whitespace"> </span><span class="name">readNext</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 36 </span><span class="whitespace">     </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 37 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">pos</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 38 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 39 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 40 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">pos</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="name">l1</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln"> 41 </span><span class="whitespace">     </span><span class="punctuation">{</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 42 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 43 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 44 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 45 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 46 </span><span class="whitespace">   </span><span class="name">T</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 47 </span><span class="whitespace">     </span><span class="keyword">static</span><span class="whitespace"> </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 48 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 49 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 50 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 51 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&gt;=</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 52 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ios::end   ios::cur
</span><span class="ln"> 53 </span><span class="comment single"></span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 54 </span><span class="whitespace">     </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 55 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 56 </span><span class="whitespace">   </span><span class="keyword">const</span><span class="whitespace"> </span><span class="name">T</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 57 </span><span class="whitespace">     </span><span class="keyword">static</span><span class="whitespace"> </span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 58 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">end</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 59 </span><span class="whitespace">     </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">long</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l1</span><span class="operator">=</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 60 </span><span class="whitespace">     </span><span class="name">l1</span><span class="whitespace"> </span><span class="operator">/=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 61 </span><span class="whitespace">     </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&gt;</span><span class="name">l1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;Index is out of range</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 62 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">),</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 63 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">j</span><span class="whitespace"> </span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 64 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 65 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">T</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 66 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">j</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">T</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln"> 67 </span><span class="whitespace">     </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">flush</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln"> 68 </span><span class="whitespace">   </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 69 </span><span class="whitespace">   </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name">rewind</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace"> </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);</span><span class="name">f1</span><span class="punctuation">.</span><span class="name">seekp</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="name">ios</span><span class="operator">::</span><span class="name">beg</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln"> 70 </span><span class="whitespace"> </span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln"> 71 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">student</span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln"> 72 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 73 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">14</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 74 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">avg</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 75 </span><span class="whitespace">  </span><span class="comment single">// Error
</span><span class="ln"> 76 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//friend ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp;);
</span><span class="ln"> 77 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">friend</span><span class="whitespace"> </span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace"> </span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 78 </span><span class="whitespace">  </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 79 </span><span class="whitespace"></span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln"> 80 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">mystrlen</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">s</span><span class="punctuation">){</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">s</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln"> 81 </span><span class="whitespace"></span><span class="comment single">//if(unsigned(index)&lt;strlen(stdno)) return stdno[index];
</span><span class="ln"> 82 </span><span class="comment single"></span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">student</span><span class="operator">::</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="keyword type">int</span><span class="whitespace">  </span><span class="name">index</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 83 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">index</span><span class="operator">&lt;</span><span class="name">mystrlen</span><span class="punctuation">(</span><span class="name">stdno</span><span class="punctuation">))</span><span class="whitespace"> </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="name">index</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 84 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">stdno</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln"> 85 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 86 </span><span class="whitespace"></span><span class="comment single">// Error
</span><span class="ln"> 87 </span><span class="comment single">//ostream&amp; operator&lt;&lt;(ostream &amp; o1, student &amp; m1){
</span><span class="ln"> 88 </span><span class="comment single"></span><span class="name">ostream</span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">ostream</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">student</span><span class="whitespace">  </span><span class="name">m1</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 89 </span><span class="whitespace">  </span><span class="name">o1</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;( &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">name</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="operator">&lt;&lt;</span><span class="whitespace">
</span><span class="ln"> 90 </span><span class="whitespace">  </span><span class="literal string">&quot; , &quot;</span><span class="operator">&lt;&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot; ) &quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 91 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">o1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 92 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln"> 93 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">main</span><span class="punctuation">(){</span><span class="name">myFileArray</span><span class="operator">&lt;</span><span class="name">student</span><span class="operator">&gt;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">(</span><span class="literal string">&quot;temp6.in&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 94 </span><span class="whitespace">  </span><span class="name">student</span><span class="whitespace"> </span><span class="name">st1</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string">&quot;Ali&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;933424&quot;</span><span class="punctuation">,</span><span class="literal number float">15.1</span><span class="punctuation">};</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="operator">=</span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 95 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="keyword">operator</span><span class="operator">&lt;&lt;</span><span class="punctuation">(</span><span class="name">cout</span><span class="punctuation">,</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 96 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">st1</span><span class="punctuation">[</span><span class="name">a</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">=</span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">st1</span><span class="punctuation">.</span><span class="keyword">operator</span><span class="punctuation">[](</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'2'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 97 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 98 </span><span class="whitespace">  </span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">name</span><span class="punctuation">,</span><span class="literal string">&quot;Reza&quot;</span><span class="punctuation">);</span><span class="name">strcpy</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">.</span><span class="name">stdno</span><span class="punctuation">,</span><span class="literal string">&quot;923434&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 99 </span><span class="whitespace">  </span><span class="name">st1</span><span class="punctuation">.</span><span class="name">avg</span><span class="operator">=</span><span class="literal number float">14.2</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">writeNext</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">rewind</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">100 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">101 </span><span class="whitespace">  </span><span class="comment single">//operator&lt;&lt;(cout,myi.readNext());
</span><span class="ln">102 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">//student *ps= &amp; myi.readNext(); Error
</span><span class="ln">103 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">readNext</span><span class="punctuation">()</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">104 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">105 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;myi[0]&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">106 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">107 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">108 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;myi[1]&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">109 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">110 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">(</span><span class="name">st1</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">111 </span><span class="whitespace">  </span><span class="name">myi</span><span class="punctuation">[</span><span class="literal number integer">10</span><span class="punctuation">]</span><span class="operator">=</span><span class="name">st1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">112 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">myi</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="literal number integer">25</span><span class="punctuation">)</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">113 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">114 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;sstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 4 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;string&gt;</span><span class="comment preproc">
</span><span class="ln"> 5 </span><span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;cstdint&gt;</span><span class="comment preproc">
</span><span class="ln"> 6 </span><span class="comment preproc"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace"> </span><span class="comment single">// https://en.cppreference.com/w/cpp/io/basic_istream/read
</span><span class="ln"> 7 </span><span class="comment single"></span><span class="whitespace">  </span><span class="comment single">// read() is often used for binary I/O
</span><span class="ln"> 8 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">std</span><span class="operator">::</span><span class="name">string</span><span class="whitespace"> </span><span class="name">bin</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal string char">'\x12'</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'\x12'</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'\x12'</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'\x12'</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">std</span><span class="operator">::</span><span class="name">istringstream</span><span class="whitespace"> </span><span class="name">raw</span><span class="punctuation">(</span><span class="name">bin</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="name">std</span><span class="operator">::</span><span class="keyword type">uint32_t</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">raw</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="keyword">reinterpret_cast</span><span class="operator">&lt;</span><span class="keyword type">char</span><span class="operator">*&gt;</span><span class="punctuation">(</span><span class="operator">&amp;</span><span class="name">n</span><span class="punctuation">),</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">    </span><span class="name">std</span><span class="operator">::</span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">std</span><span class="operator">::</span><span class="name">hex</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">std</span><span class="operator">::</span><span class="name">showbase</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">n</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string char">'\n'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">  </span><span class="comment single">// prepare file for next snippet
</span><span class="ln">15 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">std</span><span class="operator">::</span><span class="name">ofstream</span><span class="punctuation">(</span><span class="literal string">&quot;test.txt&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">std</span><span class="operator">::</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string">&quot;abcd1</span><span class="literal string escape">\n</span><span class="literal string">abcd2</span><span class="literal string escape">\n</span><span class="literal string">abcd3&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">  </span><span class="comment single">// read entire file into string
</span><span class="ln">18 </span><span class="comment single"></span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">std</span><span class="operator">::</span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">is</span><span class="punctuation">{</span><span class="literal string">&quot;test.txt&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">std</span><span class="operator">::</span><span class="name">ios</span><span class="operator">::</span><span class="name">binary</span><span class="whitespace"> </span><span class="operator">|</span><span class="whitespace"> </span><span class="name">std</span><span class="operator">::</span><span class="name">ios</span><span class="operator">::</span><span class="name">ate</span><span class="punctuation">})</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">    </span><span class="keyword">auto</span><span class="whitespace"> </span><span class="name">size</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">is</span><span class="punctuation">.</span><span class="name">tellg</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">    </span><span class="name">std</span><span class="operator">::</span><span class="name">string</span><span class="whitespace"> </span><span class="name">str</span><span class="punctuation">(</span><span class="name">size</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string char">'\0'</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// construct string to stream size
</span><span class="ln">21 </span><span class="comment single"></span><span class="whitespace">    </span><span class="name">is</span><span class="punctuation">.</span><span class="name">seekg</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace">    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">is</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">(</span><span class="operator">&amp;</span><span class="name">str</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">],</span><span class="whitespace"> </span><span class="name">size</span><span class="punctuation">))</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace">        </span><span class="name">std</span><span class="operator">::</span><span class="name">cout</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="name">str</span><span class="whitespace"> </span><span class="operator">&lt;&lt;</span><span class="whitespace"> </span><span class="literal string char">'\n'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace"></span><span class="comment multiline">/* https://en.cppreference.com/w/cpp/io/basic_ostream/write
</span><span class="ln">27 </span><span class="comment multiline">#include &lt;iostream&gt;
</span><span class="ln">28 </span><span class="comment multiline">int main(){
</span><span class="ln">29 </span><span class="comment multiline">  int n = 0x41424344;
</span><span class="ln">30 </span><span class="comment multiline">  std::cout.write(reinterpret_cast&lt;char*&gt;(&amp;n), sizeof n) &lt;&lt; '\n';
</span><span class="ln">31 </span><span class="comment multiline">
</span><span class="ln">32 </span><span class="comment multiline">  char c[]=&quot;This is sample text.&quot;;
</span><span class="ln">33 </span><span class="comment multiline">  std::cout.write(c, 4).write(&quot;!\n&quot;, 2);
</span><span class="ln">34 </span><span class="comment multiline">}
</span><span class="ln">35 </span><span class="comment multiline">*/</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace"></span><span class="comment multiline">/* https://en.cppreference.com/w/cpp/io/basic_ifstream
</span><span class="ln">37 </span><span class="comment multiline">#include &lt;iostream&gt;
</span><span class="ln">38 </span><span class="comment multiline">#include &lt;fstream&gt;
</span><span class="ln">39 </span><span class="comment multiline">#include &lt;string&gt;
</span><span class="ln">40 </span><span class="comment multiline">int main() {
</span><span class="ln">41 </span><span class="comment multiline">  std::string filename = &quot;Test.b&quot;;
</span><span class="ln">42 </span><span class="comment multiline">  // prepare a file to read
</span><span class="ln">43 </span><span class="comment multiline">  double d = 3.14;
</span><span class="ln">44 </span><span class="comment multiline">  std::ofstream(filename, std::ios::binary).write(reinterpret_cast&lt;char*&gt;(&amp;d), sizeof d)
</span><span class="ln">45 </span><span class="comment multiline">     &lt;&lt; 123 &lt;&lt; &quot;abc&quot;;
</span><span class="ln">46 </span><span class="comment multiline">  // open file for reading
</span><span class="ln">47 </span><span class="comment multiline">  std::ifstream istrm(filename, std::ios::binary);
</span><span class="ln">48 </span><span class="comment multiline">  if (!istrm.is_open()) {
</span><span class="ln">49 </span><span class="comment multiline">    std::cout &lt;&lt; &quot;failed to open &quot; &lt;&lt; filename &lt;&lt; '\n';
</span><span class="ln">50 </span><span class="comment multiline">  } else {
</span><span class="ln">51 </span><span class="comment multiline">    double d;
</span><span class="ln">52 </span><span class="comment multiline">    istrm.read(reinterpret_cast&lt;char*&gt;(&amp;d), sizeof d); // binary input
</span><span class="ln">53 </span><span class="comment multiline">    int n;
</span><span class="ln">54 </span><span class="comment multiline">    std::string s;
</span><span class="ln">55 </span><span class="comment multiline">    if (istrm &gt;&gt; n &gt;&gt; s)                               // text input
</span><span class="ln">56 </span><span class="comment multiline">      std::cout &lt;&lt; &quot;read back from file: &quot; &lt;&lt; d &lt;&lt; ' ' &lt;&lt; n &lt;&lt; ' ' &lt;&lt; s &lt;&lt; '\n';
</span><span class="ln">57 </span><span class="comment multiline">  }
</span><span class="ln">58 </span><span class="comment multiline">}
</span><span class="ln">59 </span><span class="comment multiline">*/</span>
</pre>
<hr class="docutils" />
<pre class="code cpp literal-block">
<span class="ln"> 1 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;iostream&gt;</span><span class="comment preproc">
</span><span class="ln"> 2 </span><span class="comment preproc">#include</span><span class="comment preprocfile">&lt;fstream&gt;</span><span class="comment preproc">
</span><span class="ln"> 3 </span><span class="comment preproc"></span><span class="keyword">using</span><span class="whitespace"> </span><span class="keyword">namespace</span><span class="whitespace"> </span><span class="name namespace">std</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 4 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">myMat</span><span class="punctuation">{</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="operator">**</span><span class="name">p</span><span class="punctuation">;};</span><span class="whitespace">
</span><span class="ln"> 5 </span><span class="whitespace"></span><span class="name">myMat</span><span class="whitespace"> </span><span class="name function">read</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">name</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln"> 6 </span><span class="whitespace">  </span><span class="name">myMat</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="keyword type">double</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">pd</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln"> 7 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f</span><span class="punctuation">(</span><span class="name">name</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln"> 8 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;cannot open file&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln"> 9 </span><span class="whitespace">  </span><span class="name">f</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">,</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">10 </span><span class="whitespace">  </span><span class="name">pd</span><span class="operator">=</span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="punctuation">[</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">*</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">11 </span><span class="whitespace">  </span><span class="name">f</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="name">pd</span><span class="punctuation">,</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">double</span><span class="punctuation">)</span><span class="operator">*</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">*</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">12 </span><span class="whitespace">  </span><span class="name">f</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">13 </span><span class="whitespace">  </span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="operator">=</span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="operator">*</span><span class="punctuation">[</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">14 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">15 </span><span class="whitespace">    </span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="operator">=</span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="punctuation">[</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">16 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">17 </span><span class="whitespace">      </span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">][</span><span class="name">j</span><span class="punctuation">]</span><span class="operator">=</span><span class="name">pd</span><span class="punctuation">[</span><span class="name">i</span><span class="operator">*</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">+</span><span class="name">j</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">18 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">19 </span><span class="whitespace">  </span><span class="keyword">delete</span><span class="punctuation">[]</span><span class="name">pd</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">20 </span><span class="whitespace">  </span><span class="name">f</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">21 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">22 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">23 </span><span class="whitespace"></span><span class="keyword type">bool</span><span class="whitespace"> </span><span class="name function">write</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="name">name</span><span class="punctuation">,</span><span class="name">myMat</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">24 </span><span class="whitespace">  </span><span class="name">ofstream</span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">(</span><span class="name">name</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">25 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;cannot open file&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="keyword">return</span><span class="whitespace"> </span><span class="name builtin">false</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln">26 </span><span class="whitespace">  </span><span class="keyword type">double</span><span class="operator">*</span><span class="name">pd</span><span class="operator">=</span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="punctuation">[</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">*</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">27 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">28 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">29 </span><span class="whitespace">      </span><span class="name">pd</span><span class="punctuation">[</span><span class="name">i</span><span class="operator">*</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">+</span><span class="name">j</span><span class="punctuation">]</span><span class="operator">=</span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">][</span><span class="name">j</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">30 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">,</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">31 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="name">pd</span><span class="punctuation">,</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">double</span><span class="punctuation">)</span><span class="operator">*</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">*</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">32 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">33 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name builtin">true</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">34 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">35 </span><span class="whitespace"></span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">mat2</span><span class="punctuation">{</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">p</span><span class="punctuation">[</span><span class="literal number integer">100</span><span class="punctuation">][</span><span class="literal number integer">100</span><span class="punctuation">];};</span><span class="whitespace">
</span><span class="ln">36 </span><span class="whitespace"></span><span class="name">mat2</span><span class="whitespace">  </span><span class="name function">read2</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="name">name</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">37 </span><span class="whitespace">  </span><span class="name">mat2</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">38 </span><span class="whitespace">  </span><span class="name">ifstream</span><span class="whitespace"> </span><span class="name">f</span><span class="punctuation">(</span><span class="name">name</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">39 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="name">exit</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">);}</span><span class="whitespace">
</span><span class="ln">40 </span><span class="whitespace">  </span><span class="name">f</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">,</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">41 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">&lt;</span><span class="name">n</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">42 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">&lt;</span><span class="name">n</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">43 </span><span class="whitespace">      </span><span class="name">f</span><span class="punctuation">.</span><span class="name">read</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">][</span><span class="name">j</span><span class="punctuation">],</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">double</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">44 </span><span class="whitespace">  </span><span class="name">f</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">45 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">46 </span><span class="whitespace"></span><span class="keyword type">bool</span><span class="whitespace"> </span><span class="name function">write2</span><span class="punctuation">(</span><span class="keyword">const</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="name">name</span><span class="punctuation">,</span><span class="name">mat2</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">47 </span><span class="whitespace">  </span><span class="name">ofstream</span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">(</span><span class="name">name</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">48 </span><span class="whitespace">  </span><span class="keyword">if</span><span class="punctuation">(</span><span class="operator">!</span><span class="name">f1</span><span class="punctuation">){</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;cannot open file&quot;</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="keyword">return</span><span class="whitespace"> </span><span class="name builtin">false</span><span class="punctuation">;}</span><span class="whitespace">
</span><span class="ln">49 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">,</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">50 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">51 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace">
</span><span class="ln">52 </span><span class="whitespace">      </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">write</span><span class="punctuation">((</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="operator">&amp;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">][</span><span class="name">j</span><span class="punctuation">],</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">double</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="ln">53 </span><span class="whitespace">  </span><span class="name">f1</span><span class="punctuation">.</span><span class="name">close</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="ln">54 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name builtin">true</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">55 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">56 </span><span class="whitespace"></span><span class="name">myMat</span><span class="whitespace"> </span><span class="name function">input</span><span class="punctuation">(</span><span class="keyword type">void</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">57 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">,</span><span class="name">j</span><span class="punctuation">;</span><span class="name">myMat</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">58 </span><span class="whitespace">  </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;enter n &quot;</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="name">cin</span><span class="operator">&gt;&gt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">59 </span><span class="whitespace">  </span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="operator">=</span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="operator">*</span><span class="punctuation">[</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">60 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">61 </span><span class="whitespace">    </span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="operator">=</span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="punctuation">[</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">62 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">j</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">++</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">63 </span><span class="whitespace">      </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;enter a[&quot;</span><span class="operator">&lt;&lt;</span><span class="name">i</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;][&quot;</span><span class="operator">&lt;&lt;</span><span class="name">j</span><span class="operator">&lt;&lt;</span><span class="literal string">&quot;]:&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">64 </span><span class="whitespace">      </span><span class="name">cin</span><span class="operator">&gt;&gt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">][</span><span class="name">j</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">65 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">66 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">67 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">68 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">69 </span><span class="whitespace"></span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">print</span><span class="punctuation">(</span><span class="name">myMat</span><span class="whitespace"> </span><span class="name">m</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">70 </span><span class="whitespace">  </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">,</span><span class="name">j</span><span class="punctuation">;</span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">71 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">72 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="name">j</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">m</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">][</span><span class="name">j</span><span class="punctuation">]</span><span class="operator">&lt;&lt;</span><span class="literal string char">'\t'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">73 </span><span class="whitespace">    </span><span class="name">cout</span><span class="operator">&lt;&lt;</span><span class="name">endl</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">74 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">75 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">76 </span><span class="whitespace"></span><span class="name">myMat</span><span class="whitespace"> </span><span class="name function">mult</span><span class="punctuation">(</span><span class="name">myMat</span><span class="whitespace"> </span><span class="name">m1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">myMat</span><span class="whitespace"> </span><span class="name">m2</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">77 </span><span class="whitespace">  </span><span class="name">myMat</span><span class="whitespace"> </span><span class="name">m3</span><span class="punctuation">;</span><span class="name">m3</span><span class="punctuation">.</span><span class="name">n</span><span class="operator">=</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">m3</span><span class="punctuation">.</span><span class="name">p</span><span class="operator">=</span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="operator">*</span><span class="punctuation">[</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">78 </span><span class="whitespace">  </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">79 </span><span class="whitespace">    </span><span class="name">m3</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="operator">=</span><span class="keyword">new</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="punctuation">[</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">80 </span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">j</span><span class="operator">++</span><span class="punctuation">){</span><span class="whitespace">
</span><span class="ln">81 </span><span class="whitespace">      </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">sum</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">82 </span><span class="whitespace">      </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">k</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">k</span><span class="operator">&lt;</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">n</span><span class="punctuation">;</span><span class="name">k</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">sum</span><span class="operator">+=</span><span class="name">m1</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">][</span><span class="name">k</span><span class="punctuation">]</span><span class="operator">*</span><span class="name">m2</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">k</span><span class="punctuation">][</span><span class="name">j</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="ln">83 </span><span class="whitespace">      </span><span class="name">m3</span><span class="punctuation">.</span><span class="name">p</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">][</span><span class="name">j</span><span class="punctuation">]</span><span class="operator">=</span><span class="name">sum</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">84 </span><span class="whitespace">    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">85 </span><span class="whitespace">  </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">86 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">m3</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">87 </span><span class="whitespace"></span><span class="punctuation">}</span><span class="whitespace">
</span><span class="ln">88 </span><span class="whitespace"></span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
</span><span class="ln">89 </span><span class="whitespace">  </span><span class="comment single">//myMat m1,m2; m1=input();m2=input();write(&quot;mat1.in&quot;,m1);write(&quot;mat2.in&quot;,m2);
</span><span class="ln">90 </span><span class="comment single"></span><span class="whitespace">  </span><span class="name">myMat</span><span class="whitespace"> </span><span class="name">m1</span><span class="operator">=</span><span class="name">read</span><span class="punctuation">(</span><span class="literal string">&quot;mat1.in&quot;</span><span class="punctuation">),</span><span class="name">m2</span><span class="operator">=</span><span class="name">read</span><span class="punctuation">(</span><span class="literal string">&quot;mat2.in&quot;</span><span class="punctuation">),</span><span class="name">m3</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">91 </span><span class="whitespace">  </span><span class="name">print</span><span class="punctuation">(</span><span class="name">m1</span><span class="punctuation">);</span><span class="name">print</span><span class="punctuation">(</span><span class="name">m2</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">92 </span><span class="whitespace">  </span><span class="name">m3</span><span class="operator">=</span><span class="name">mult</span><span class="punctuation">(</span><span class="name">m1</span><span class="punctuation">,</span><span class="name">m2</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">93 </span><span class="whitespace">  </span><span class="name">write</span><span class="punctuation">(</span><span class="literal string">&quot;mat3.in&quot;</span><span class="punctuation">,</span><span class="name">m3</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">94 </span><span class="whitespace">  </span><span class="name">print</span><span class="punctuation">(</span><span class="name">m3</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="ln">95 </span><span class="whitespace">  </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="ln">96 </span><span class="whitespace"></span><span class="punctuation">}</span>
</pre>
<hr class="docutils" />
<p>END</p>
<p>rst2html file.rst file.html</p>
</div>
</div>
</body>
</html>
